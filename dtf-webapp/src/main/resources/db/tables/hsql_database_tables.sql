--
-- Tables for DTF functionality, HSQL
-- 

CREATE TABLE IF NOT EXISTS card (
	id BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
	title VARCHAR(256),
	description VARCHAR(4096)
);

CREATE TABLE IF NOT EXISTS tag (
	id BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
	name VARCHAR(256)
);

CREATE TABLE IF NOT EXISTS depends (
	cardId BIGINT,
	tagId BIGINT,
	FOREIGN KEY (cardId) REFERENCES card(id),
	FOREIGN KEY (tagId) REFERENCES tag(id)
);

CREATE TABLE IF NOT EXISTS provides (
	cardId BIGINT,
	tagId BIGINT,
	FOREIGN KEY (cardId) REFERENCES card(id),
	FOREIGN KEY (tagId) REFERENCES tag(id)
);
