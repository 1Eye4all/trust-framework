<h3>Edit Card</h3>

<div>
	<button type="button" class="btn btn-default" ng-click="updateCard()">Save Card</button>
</div>

<div>
	<span><button type="button" class="btn btn-default" ng-click="addNewTag()">Create a tag: </button></span>
	<span><input ng-model="newTag" size=40></span>
</div>
			

<div class="panel-info">
	<div class="panel-heading">
		<div class="panel-title"><input ng-model="card.title" size=60></div>


	</div>
	<div class="panel-body">

		<tabset>
			<tab heading="business"><div><input ng-model="card.businessTxt" size=60></div></tab>
			<tab heading="legal"><div><input ng-model="card.legalTxt" size=60></div></tab>
			<tab heading="technical"><div><input ng-model="card.technicalTxt" size=60></div></tab>
			
		</tabset>
		<br> Provides:
		<p>
		<div class="provides">
			<span ng-repeat="tag in card.providesTags"> 
				<span class="label label-warning providesTag"> 
					{{tag.name}} 
					<span ng-click="removeProvidesTag($index)">
						<span class="glyphicon glyphicon-remove"></span>
					</span>
				</span>
			</span>
			<div class="tagChoices btn-group btn-group-sm">
				<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Add a tag</button>
				<ul class="dropdown-menu" role="menu">
					<li ng-repeat="tag in allTags" ng-click="card.providesTags.push(tag)">{{tag.name}}</li>
				</ul>
			</div>

		</div>
		<p>Depends on:
		<div class="editableDependency" ng-repeat="dependency in card.dependencies">

			<span ng-click="removeDependency($index)">
				<span class="glyphicon glyphicon-remove"></span>
				Remove
			</span>
			<div><input class="dependencyDescription" ng-model="dependency.description" size=60></div>

			<br> 
				<span ng-repeat="tag in dependency.tags"> <span class="label label-warning">{{tag.name}}<span
					ng-click="removeDependencyTag($parent.$index, $index)"> <span class="glyphicon glyphicon-remove"></span></span>
				</span>
				</span>
				<div class="tagChoices btn-group btn-group-sm">
				<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Add a tag</button>
				<ul class="dropdown-menu" role="menu">
					<li ng-repeat="tag in allTags" ng-click="dependency.tags.push(tag)">{{tag.name}}</li>
				</ul>
			</div>
		</div>
		<button type="button" class="btn btn-sm" ng-click="addNewDependency()">Add a dependency</button>

	</div>
</div>
